{"version":3,"sources":["firebase/firebase.js","types/types.js","actions/ui.js","actions/auth.js","hooks/useForm.js","components/auth/LoginScreen.js","components/auth/RegisterScreen.js","routes/AuthRouter.js","routes/PrivateRouter.js","routes/PublicRouter.js","helpers/loadProducts.js","actions/products.js","helpers/cantidadCompras.js","helpers/loadCompras.js","actions/historial.js","components/historial/Sweets.js","components/historial/Compras.js","components/historial/ScreenCompras.js","helpers/getDatosCompra.js","actions/menu.js","components/UI/Navbar.js","actions/carrito.js","components/products/ProductsScreen.js","components/shop/Shop.js","components/shop/SweetsCarrito.js","components/shop/Carrito.js","components/UI/Principal.js","components/UI/Menu.js","components/historial/ScreenSweets.js","helpers/getDulcesById.js","routes/DashBoardRoutes.js","routes/AppRouter.js","reducers/uiRedcer.js","reducers/carritoReducer.js","reducers/productsReducer.js","reducers/historialReducer.js","reducers/menuReducer.js","store/store.js","reducers/authReducer.js","SweetShop.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","db","firestore","googleAuthProvider","auth","GoogleAuthProvider","facebookAuthProvider","FacebookAuthProvider","types","setError","error","type","payload","finishLoading","login","uid","displayName","photoURL","startLogout","dispatch","a","signOut","startLoginEmailPassword","email","password","signInWithEmailAndPassword","then","user","catch","e","console","log","Swal","fire","message","useForm","initialState","useState","values","setvalues","reset","handleInputChange","target","name","value","LoginScreen","formValues","loading","useSelector","state","ui","useDispatch","className","onSubmit","preventDefault","placeholder","onChange","disabled","src","alt","onClick","signInWithPopup","to","RegisterScreen","password2","msgError","isFormValid","trim","length","validator","isEmail","createUserWithEmailAndPassword","updateProfile","startRegisterWithEmailPasswordName","autoComplete","AuthRouter","exact","path","component","PrivateRouter","isLoggedIn","Component","rest","localStorage","setItem","location","pathname","props","PublicRouter","loadProducts","collection","get","productSnap","products","forEach","snapHijo","push","id","data","loadingProducts","openProducts","loadCantidadCompras","cantidad","doc","comprasSnap","undefined","numero","num","loadCompras","history","i","compras","comprasHijo","idSweet","loadCantidadHistory","getState","startLoadCantidadHistory","loadHistory","compritas","setHistory","setCantidadHistory","newCantidad","Sweets","React","memo","Nombre","precio","total","Compras","nombre","Historial","info","j","dato","getDatosCompras","useEffect","map","inf","openMenu","Navbar","useHistory","width","height","replace","openCarrito","closeCarrito","addSweetCarrito","sweet","cantidadSweet","changeCantidadSweet","deleteSweet","setTotal","ProductsScreen","parseInt","sweets","carrito","exist","stateSweet","loadAddCarrito","url","Shop","product","SweetsCarrito","totalSweet","uploadTotalDelete","Carrito","totalP","Numero","set","add","Principal","open","Menu","handleMenu","ScreenSweets","getDulcesById","useParams","compraId","goBack","DashboardRoutes","menu","AppRouter","checking","setChecking","setIsLoggedIn","onAuthStateChanged","initialstate","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","reducers","combineReducers","action","filter","store","createStore","applyMiddleware","thunk","SweetShop","ReactDOM","render","document","getElementById"],"mappings":"gNAcAA,IAASC,cAVY,CACnBC,OAAQ,0CACRC,WAAY,kCACZC,YAAa,sDACbC,UAAW,kBACXC,cAAe,8BACfC,kBAAmB,eACnBC,MAAO,8CAMT,IAAMC,EAAKT,IAASU,YACdC,EAAqB,IAAIX,IAASY,KAAKC,mBACvCC,EAAuB,IAAId,IAASY,KAAKG,qB,wBCnBlCC,EAEJ,eAFIA,EAGF,iBAHEA,EAKC,iBALDA,EAMI,oBANJA,EAQK,qBARLA,EASM,sBATNA,EAYK,iBAZLA,EAaI,cAbJA,EAgBC,gBAhBDA,EAkBU,yBAlBVA,EAoBS,yBApBTA,EAsBD,cAtBCA,EAyBE,eAzBFA,EA0BG,iBA1BHA,EA4BI,mBA5BJA,EA6BO,oBA7BPA,EA8BE,sBA9BFA,EAgCC,gBAhCDA,EAkCG,kBChCHC,EAAW,SAACC,GAAD,MAAY,CAClCC,KAAMH,EACNI,QAASF,IAYEG,EAAgB,iBAAO,CAClCF,KAAMH,EACNI,SAAS,I,iBCTEE,EAAQ,SAACC,EAAKC,EAAaC,GAAnB,MAAiC,CACpDN,KAAMH,EACNI,QAAS,CACPG,MACAC,cACAC,cAQSC,EAAc,WACzB,8CAAO,WAAOC,GAAP,SAAAC,EAAA,sEACC5B,IAASY,OAAOiB,UADjB,OAGLF,EARyB,CAEzBR,KAAMH,IAGD,2CAAP,uDAuBWc,EAA0B,SAACC,EAAOC,GAC7C,OAAO,SAACL,GACNA,EDrC+B,CACjCR,KAAMH,EACNI,SAAS,ICoCPpB,IACGY,OACAqB,2BAA2BF,EAAOC,GAClCE,MAAK,YAAe,IAAZC,EAAW,EAAXA,KACPR,EAASL,EAAMa,EAAKZ,IAAKY,EAAKX,cAC9BG,EAASN,QAGVe,OAAM,SAACC,GACNC,QAAQC,IAAIF,GACZV,EAASN,KACTmB,IAAKC,KAAK,QAASJ,EAAEK,QAAS,c,eC1DzBC,EAAU,WAAwB,IAAvBC,EAAsB,uDAAP,GACrC,EAA4BC,mBAASD,GAArC,mBAAOE,EAAP,KAAeC,EAAf,KAEMC,EAAQ,WACZD,EAAUH,IAGNK,EAAoB,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OAC3BH,EAAU,2BACLD,GADI,kBAENI,EAAOC,KAAOD,EAAOE,UAI1B,MAAO,CAACN,EAAQG,EAAmBD,I,OCXxBK,EAAc,WAExB,MAAwCV,EAAQ,CAC9CZ,MAAM,GACNC,SAAU,KAFZ,mBAAOsB,EAAP,KAAmBL,EAAnB,KAIQM,EAAWC,aAAa,SAAAC,GAAK,OAAIA,EAAMC,MAAvCH,QACAxB,EAAkBuB,EAAlBvB,MAAMC,EAAYsB,EAAZtB,SACPL,EAAWgC,cAWnB,OACE,sBAAKC,UAAU,mBAAf,UACE,uCACA,uBACEC,SAdgB,SAACxB,GAChBV,EAASG,EAAwBC,EAAMC,IACvCK,EAAEyB,kBAaHF,UAAU,oCAFZ,UAIE,uBACEzC,KAAK,OACL4C,YAAY,QACZZ,KAAK,QACLC,MAAOrB,EACP6B,UAAU,mBACVI,SAAUf,IAEZ,uBACE9B,KAAK,WACL4C,YAAY,WACZZ,KAAK,WACLC,MAAOpB,EACP4B,UAAU,mBACVI,SAAUf,IAGZ,wBACEW,UAAU,iCACVzC,KAAK,SACL8C,SAAUV,EAHZ,mBAOA,sBAAKK,UAAU,cAAf,UACE,qBACEA,UAAU,cACVM,IAAI,8EACJC,IAAI,gBACJC,QA1CkB,WACxBzC,GF+CG,SAACA,GACN3B,IACGY,OACAyD,gBAAgB1D,GAChBuB,MAAK,YAAe,IAAZC,EAAW,EAAXA,KACPR,EAASL,EAAMa,EAAKZ,IAAKY,EAAKX,YAAaW,EAAKV,cAGjDW,OAAO,SAACC,GAAD,OAAOC,QAAQC,IAAIF,YEZvB,qBACEuB,UAAU,gBACVM,IAAI,iHACJC,IAAI,kBACJC,QA7CoB,WAC1BzC,GFyDG,SAACA,GACN3B,IACGY,OACAyD,gBAAgBvD,GAChBoB,MAAK,YAAe,IAAZC,EAAW,EAAXA,KACPR,EAASL,EAAMa,EAAKZ,IAAKY,EAAKX,iBAE/BY,OAAM,SAACC,GAAD,OAAOC,QAAQC,IAAIF,eEjBxB,cAAC,IAAD,CAAMiC,GAAG,iBAAiBV,UAAU,YAApC,uC,iBC9DKW,EAAiB,WAE5B,IAAM5C,EAAWgC,cACjB,EAAwChB,EAAQ,CAC9CQ,KAAO,GACPpB,MAAQ,GACRC,SAAU,GACVwC,UAAW,KAJb,mBAAOlB,EAAP,KAAmBL,EAAnB,KAOQE,EAAqCG,EAArCH,KAAMpB,EAA+BuB,EAA/BvB,MAAOC,EAAwBsB,EAAxBtB,SAAUwC,EAAclB,EAAdkB,UACxBC,EAAYjB,aAAa,SAAAC,GAAK,OAAIA,EAAMC,MAAxCe,SAUCC,EAAc,WAClB,GAA2B,IAAvBvB,EAAKwB,OAAOC,OAAc,CAG5B,OADAjD,EAASV,EADK,sBAEP,EACF,OAAK4D,IAAUC,QAAQ/C,GAInBC,IAAawC,GACtBlC,QAAQC,IACN,+BAEFZ,EAASV,EAAS,2BACX,GAECe,EAAS4C,OAAS,GAC1BtC,QAAQC,IACN,6CAEFZ,EAASV,EAAS,sBACX,IAGTU,EJ7C4B,CAChCR,KAAMH,KI6CK,IAnBLsB,QAAQC,IAAI,sBACZZ,EAASV,EAAS,mBACX,IAmBb,OACE,gCACE,oBAAI2C,UAAU,cAAd,uBACA,uBACEC,SAvCmB,SAACxB,GACtBA,EAAEyB,iBAEEY,KACF/C,EHM0C,SAACwB,EAAMpB,EAAOC,GAC9D,OAAO,SAACL,GACN3B,IACGY,OACAmE,+BAA+BhD,EAAOC,GACtCE,KAHH,uCAGQ,6BAAAN,EAAA,6DAASO,EAAT,EAASA,KAAT,SACEA,EAAK6C,cAAc,CAAExD,YAAa2B,IADpC,OAGJxB,EAASL,EAAMa,EAAKZ,IAAKY,EAAKX,cAH1B,2CAHR,uDAQGY,OAAM,SAACC,GACNC,QAAQC,IAAIF,GACZG,IAAKC,KAAK,QAASJ,EAAEK,QAAS,aGlBrBuC,CAAmC9B,EAAMpB,EAAOC,KAoCzD4B,UAAU,oCAFZ,UAIgB,OAAba,GACC,qBAAKb,UAAU,oBAAf,SAAoCa,IAGtC,uBACEtD,KAAK,OACL4C,YAAY,OACZZ,KAAK,OACLS,UAAU,eACVsB,aAAa,MACblB,SAAUf,EACVG,MAAOD,IAGT,uBACEhC,KAAK,OACL4C,YAAY,QACZZ,KAAK,QACLS,UAAU,mBACVI,SAAUf,EACVG,MAAOrB,IAET,uBACEZ,KAAK,WACL4C,YAAY,WACZZ,KAAK,WACLS,UAAU,mBACVI,SAAUf,EACVG,MAAOpB,IAET,uBACEb,KAAK,WACL4C,YAAY,oBACZZ,KAAK,YACLS,UAAU,mBACVI,SAAUf,EACVG,MAAOoB,IAGT,wBAAQZ,UAAU,iCAAiCzC,KAAK,SAAxD,sBAIA,uBAEA,cAAC,IAAD,CAAMmD,GAAG,cAAcV,UAAU,YAAjC,yCCtGKuB,EAAa,WACxB,OACE,qBAAKvB,UAAU,aAAf,SACE,qBAAKA,UAAU,sBAAf,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOwB,OAAK,EAACC,KAAK,cAAcC,UAAWjC,IAC3C,cAAC,IAAD,CAAO+B,OAAK,EAACC,KAAK,iBAAiBC,UAAWf,IAE9C,cAAC,IAAD,CAAUD,GAAG,wB,sCCTViB,GAAgB,SAAC,GAIvB,IAHLC,EAGI,EAHJA,WACWC,EAEP,EAFJH,UACGI,EACC,kBAIJ,OAFAC,aAAaC,QAAQ,WAAYF,EAAKG,SAASC,UAG7C,cAAC,IAAD,2BACMJ,GADN,IAEEJ,UAAW,SAACS,GAAD,OACTP,EAAa,cAACC,EAAD,eAAeM,IAAY,cAAC,IAAD,CAAUzB,GAAG,qB,8BCXhD0B,GAAe,SAAC,GAAmD,IAAjDR,EAAgD,EAAhDA,WAAuBC,EAAyB,EAApCH,UAAyBI,EAAW,kBAC7E,OACE,cAAC,IAAD,2BACMA,GADN,IAEEJ,UAAW,SAACS,GAAD,OACRP,EAAwC,cAAC,IAAD,CAAUlB,GAAG,MAAxC,cAACmB,EAAD,eAAeM,SCPxBE,GAAY,uCAAG,WAAO1E,GAAP,iBAAAK,EAAA,sEACAnB,EACvByF,WADuB,cAEvBC,MAHuB,cACpBC,EADoB,OAIpBC,EAAW,GAEjBD,EAAYE,SAAQ,SAACC,GACnBF,EAASG,KAAT,aACEC,GAAIF,EAASE,IACVF,EAASG,YATU,kBAanBL,GAbmB,2CAAH,sDCSZM,GAAkB,SAACN,GAAD,MAAe,CAE1ClF,KAAMH,EACNI,QAASiF,IAGAO,GAAe,iBAAO,CAChCzF,KAAMH,ICZI6F,GAAmB,uCAAG,WAAOtF,GAAP,qBAAAK,EAAA,6DAEzBkF,EAAW,EAFc,SAGLrG,EAAGyF,WAAH,UAAiB3E,IAAOwF,IAAI,YAAYZ,MAHnC,UAGzBa,EAHyB,YAOjBC,KAFRC,EAASF,EAAYN,QALI,yCAQtBI,GARsB,cAWvBK,EAAOD,EAAPC,IAXuB,kBAYvBA,GAZuB,4CAAH,sDCEnBC,GAAW,uCAAG,WAAO7F,EAAIuF,GAAX,mBAAAlF,EAAA,sDAClByF,EAAU,GADQ,IAAAzF,EAAA,iBAEhB0F,GAFgB,iBAAA1F,EAAA,sEAGGnB,EAAGyF,WAAH,UAAiB3E,EAAjB,sBAAkC+F,IAAKnB,MAH1C,OAGjBa,EAHiB,QAIjBO,EAAU,IAERf,KAAR,UAAgBc,IAChBN,EAAYV,SAAQ,SAACkB,GACnBD,EAAQf,KAAR,aACEiB,QAASD,EAAYf,IAClBe,EAAYd,YAKnBW,EAAQb,KAAKe,GAfU,0CAEhBD,EAAI,EAFY,YAEVA,GAAKR,GAFK,yCAEhBQ,GAFgB,eAEIA,IAFJ,+CAmBjBD,GAnBiB,2CAAH,wDCHXK,GAAsB,WACjC,8CAAO,WAAO/F,EAAUgG,GAAjB,iBAAA/F,EAAA,6DACGL,EAAQoG,IAAW/G,KAAnBW,IADH,SAEkBsF,GAAoBtF,GAFtC,OAECuF,EAFD,OAGLnF,EAASiG,GAAyBd,IAClCnF,EAASkG,GAAYtG,EAAIuF,IAJpB,2CAAP,yDASWe,GAAc,SAACtG,EAAIuF,GAE9B,OAAQ,SAACnF,EAASgG,GACCP,GAAY7F,EAAIuF,GAAU5E,MAAK,SAAA4F,GAAS,OAAInG,EAASoG,GAAWD,OAAa1F,OAAM,SAAAC,GAAC,OAAIC,QAAQC,IAAIF,QAI5G0F,GAAa,SAACR,GAAD,MAAc,CACtCpG,KAAMH,EACNI,QAASmG,IA8BEK,GAA2B,SAACd,GAAD,MAAe,CACrD3F,KAAOH,EACPI,QAAU0F,IAaCkB,GAAqB,SAACC,GAAD,MAAkB,CAClD9G,KAAMH,EACNI,QAAU6G,ICrECC,GAASC,IAAMC,MAAK,YAAqC,IAAnCC,EAAkC,EAAlCA,OAAOC,EAA2B,EAA3BA,OAAOxB,EAAoB,EAApBA,SAASyB,EAAW,EAAXA,MAExD,OACE,qCACE,qBAAK3E,UAAU,sBAAf,SAEE,cAAC,GAAD,MAGF,sBAAKA,UAAU,yBAAf,UACE,6BAAKyE,IACL,gCACE,kDAAqBC,KACrB,6CAAgBxB,KAChB,4CAAeyB,iBCbZC,GAAUL,IAAMC,MAAK,YAAqB,IAAnBK,EAAkB,EAAlBA,OAAOF,EAAW,EAAXA,MAGzC,OACE,gCACE,2CAAcE,KACd,yCAAYF,KACZ,+BACE,cAAC,IAAD,CAAMjE,GAAE,qBAAgBmE,GAAxB,iCCLKC,GAAY,WACvB,IAAM/G,EAAWgC,cAEV4D,EAAW/D,aAAa,SAAAC,GAAK,OAAIA,EAAM4D,WAAvCE,QACAhG,EAAOiC,aAAa,SAAAC,GAAK,OAAIA,EAAM7C,QAAnCW,IACHoH,ECJyB,SAACpB,GAE9B,IADA,IAAIoB,EAAO,GACFrB,EAAI,EAAGA,EAAIC,EAAQ3C,OAAQ0C,IAAK,CAGvC,IAFA,IAAMmB,EAASlB,EAAQD,GAAG,GACtBiB,EAAQ,EACHK,EAAI,EAAGA,EAAIrB,EAAQD,GAAG1C,OAAQgE,IAGxB,SAFArB,EAAQD,GAAGsB,GAAGnB,UAGzBc,EAAQhB,EAAQD,GAAGsB,GAAGL,OAI1B,IAAIM,EAAO,CACTJ,SACAF,SAEFI,EAAKnC,KAAKqC,GAGZ,OAAOF,EDhBIG,CAAgBvB,GAY3B,OATFwB,qBAAU,WACRzG,QAAQC,IAAI,gDAETgF,IAAY,KACb5F,EAAS+F,MACT/F,EAASkG,GAAYtG,IACrBe,QAAQC,IAAI,gDAEb,CAACZ,IAEA,mCACE,qBAAKiC,UAAU,oBAAf,SACE,6BACE,+BAEwB,IAAnB2D,EAAQ3C,QAAiB,8CAI3B+D,EAAKK,KAAI,SAACC,GAAD,OACR,cAACT,GAAD,CAA0BC,OAAQQ,EAAIR,OAAQF,MAAOU,EAAIV,OAA3CU,EAAIR,qBEjCnBS,GAAW,iBAAO,CAC7B/H,KAAOH,ICIImI,GAAS,WACnB,IAAMxH,EAAWgC,cAElB,EAA2BH,aAAY,SAACC,GAAD,OAAWA,EAAM7C,QAAhDuC,EAAR,EAAQA,KAAM1B,EAAd,EAAcA,SACR4F,EAAU+B,cAShB,OACE,sBAAKxF,UAAU,SAAf,UACE,qBAAKM,IAAKzC,EAAU4H,MAAM,OAAOC,OAAO,OAAOnF,IAAI,iBAAiBP,UAAU,UAAUQ,QALrE,WACrBzC,EAASuH,SAMP,iCAAO/F,EAAP,OAcE,wBAAQS,UAAU,aAAaQ,QAzBhB,WACnBzC,EAASD,KACT2F,EAAQkC,QAAQ,WAuBZ,wBCpCKC,GAAc,iBAAO,CAChCrI,KAAMH,EACNI,SAAS,IAGEqI,GAAe,iBAAO,CACjCtI,KAAMH,EACNI,SAAS,IA4BEsI,GAAkB,SAACC,EAAO7C,EAAU8C,EAAerB,GAAjC,MAA4C,CACzEpH,KAAMH,EACNI,QAAS,CACPwI,gBACAD,MAAM,2BACDA,GADA,IAEH7C,WACAyB,aAKOsB,GAAsB,SAACpD,EAAIkD,EAAO7C,EAAUyB,GAAtB,MAAiC,CAClEpH,KAAMH,EACNI,QAAS,CACPqF,KACAkD,MAAM,yBACJlD,MACGkD,GAFA,IAGH7C,WACAyB,aAqBOuB,GAAc,SAACrD,GAAD,MAAS,CAClCtF,KAAMH,EACNI,QAASqF,IAGEsD,GAAW,SAACxB,GAAD,MAAY,CAClCpH,KAAMH,EACNI,QAASmH,IChFL3F,GAAe,CACnBkE,SAAW,IAEAkD,GAAiB7B,IAAMC,MAAK,SAACuB,GACxC,IAAMhI,EAAWgC,cACjB,EAA6ChB,EAAQC,IAArD,mBAAOU,EAAP,KAAkBL,EAAlB,KAAoCD,EAApC,KACK8D,EAAYxD,EAAZwD,SAaL,OACE,sBAAKlD,UAAU,UAAf,UACE,sBAAKA,UAAU,iBAAf,UACE,+BAAO+F,EAAMtB,SACb,mBAAGzE,UAAU,6BAA6BQ,QAf9B,WAChB9B,QAAQC,IAAIuE,GAETA,EADc,KAAbA,EACU,EAGAmD,SAASnD,GAEtBnF,EDRyB,SAACgI,EAAO7C,GACpC,OAAO,SAACnF,EAAUgG,GAChB,IAAMuC,EAASvC,IAAWwC,QAAQD,OAC9BE,GAAQ,EACNR,EAAgBM,EAAOtF,OAAS,EAEtCsF,EAAO5D,SAAQ,SAAC+D,GAERA,EAAW5D,KAAOkD,EAAMlD,KAC1B2D,GAAQ,EACRtD,EAAWuD,EAAWvD,SAAWA,MAKvC,IAAMyB,EAAQzB,EAAW6C,EAAMrB,OAI7B3G,EAHGyI,EAGMP,GAAoBF,EAAMlD,GAAIkD,EAAO7C,EAAUyB,GAF/CmB,GAAgBC,EAAO7C,EAAU8C,EAAerB,KCTjD+B,CAAeX,EAAM7C,IAC9B9D,UAQC,qBAAKY,UAAU,cAAf,SACE,qBAAKM,IAAKyF,EAAMY,IAAKpG,IAAI,sBAE3B,sBAAKP,UAAU,eAAf,UACE,qCAAQ+F,EAAMrB,UACd,uBACEnH,KAAK,SACLgC,KAAK,WACLa,SAAUf,EACVG,MAAO0D,aC/BJ0D,GAAO,SAAC,GAAc,EAAbnD,QAAc,IAC3B1F,EAAWgC,cACTuG,EAAW1G,aAAY,SAACC,GAAD,OAAWA,EAAMgH,WAAxCP,OACApD,EAAatD,aAAY,SAACC,GAAD,OAAWA,EAAM0G,WAA1CrD,SAOT,OACE,sBAAKlD,UAAU,qDAAf,UACE,wCAEE,mBACEA,UAAU,4CACVQ,QAXmB,WACvBzC,EAAS6H,MACT7H,EAASiF,OAOP,SAIGE,IAIL,qBAAKlD,UAAU,gBAAf,SACGsG,EAAOlB,KAAI,SAACW,GAAD,OACV,cAACK,GAAD,eAAmCL,GAAdA,EAAMlD,aC5BxBiE,GAAgBvC,IAAMC,MAAK,YAAqC,IAAnC3B,EAAkC,EAAlCA,GAAG4B,EAA+B,EAA/BA,OAAOvB,EAAwB,EAAxBA,SAASyD,EAAe,EAAfA,IAAIhC,EAAW,EAAXA,MACzD5G,EAAWgC,cAQjB,OACE,sBAAKC,UAAU,kBAAf,UACE,sBAAKA,UAAU,iBAAf,UACE,+BAAOyE,IACP,mBAAGzE,UAAU,uBAAuBQ,QARrB,WACnBzC,EHyD6B,SAAC8E,EAAGkE,GAClC,OAAO,SAAChJ,EAASgG,GACd,IAAOY,EAASZ,IAAWwC,QAApB5B,MAGP5G,EAASoI,GADQxB,EAAQoC,IAEzBhJ,EAASmI,GAAYrD,KG/DdmE,CAAkBnE,EAAG8B,UAS5B,qBAAK3E,UAAU,cAAf,SACE,qBACEM,IAAKqG,EACLlB,MAAM,OACNlF,IAAI,qBAGR,qBAAKP,UAAU,eAAf,SACEkD,UCjBK+D,GAAU,WAErB,IAAMlJ,EAAWgC,cACFmH,EAAUtH,aAAa,SAAAC,GAAK,OAAIA,EAAM0G,WAA9C5B,MACA2B,EAAU1G,aAAa,SAAAC,GAAK,OAAIA,EAAM0G,WAAtCD,OAiBP,OALAnB,qBAAU,WACRpH,GJ8DK,SAACA,EAAUgG,GAChB,IAAIY,EAAQ,EACOZ,IAAWwC,QAAtBD,OAED5D,SAAQ,SAACqD,GACdpB,GAAgBoB,EAAMpB,SAExB5G,EAASoI,GAASxB,SInEjB,CAAC5G,IAGF,sBAAKiC,UAAU,qDAAf,UACE,mBAAGA,UAAU,qCAAqCQ,QAhBnC,WAChBzC,EAAS8H,MACT9H,EAASiF,SAeR,+CACA,qBAAKhD,UAAU,gBAAf,SACGsG,EAAOlB,KAAI,SAACW,GAAD,OACV,cAACe,GAAD,eAAkCf,GAAdA,EAAMlD,SAG9B,4CAAeqE,EAAf,OACA,wBAAQlH,UAAU,yBAAyBQ,QApBzB,WACpBzC,GXuCK,SAACA,EAASgG,GACd,IAAQb,EAAaa,IAAWN,QAAxBP,SAIRnF,EAASqG,GAFWlB,EAAU,OWzC/BnF,EXOF,uCAAO,WAAOA,EAAUgG,GAAjB,6BAAA/F,EAAA,+DACoB+F,IAAWwC,QAA5BD,EADH,EACGA,OAAO3B,EADV,EACUA,MACPhH,EAAQoG,IAAW/G,KAAnBW,IACAuF,EAAaa,IAAWN,QAAxBP,SACFiE,EAAS,CACb5D,IAAKL,GAEDJ,EAAO,CACV6B,SARE,SAUC9H,EAAGyF,WAAH,UAAiB3E,EAAjB,sBAAkCuF,IAAYC,IAAI,QAAQiE,IAAItE,GAV/D,OAWIY,EAAI,EAXR,YAWWA,EAAI4C,EAAOtF,QAXtB,kCAYInE,EACJyF,WADI,UACU3E,EADV,sBAC2BuF,IAC/BmE,IAAIf,EAAO5C,IAdX,QAW8BA,IAX9B,wCAiBA7G,EAAGyF,WAAH,UAAiB3E,IAAOwF,IAAI,YAAYiE,IAAID,GAjB5C,QAkBNpJ,EAASkG,MAlBH,4CAAP,yDWNElG,EJ4EiC,CACnCR,KAAOH,EACPI,QAAU,MI7DN,yBClCO8J,GAAW,WACLvH,cAAjB,IAMY6F,EAAehG,aAAa,SAAAC,GAAK,OAAIA,EAAM0G,WAAhDgB,KACP,OACE,mCACI3B,EAAe,cAAC,GAAD,IAAc,cAAC,GAAD,OCRxB4B,GAAO,WAClB,IAAMzJ,EAAWgC,cAMX0H,EAAa,WACjB1J,EAASuH,MACTvH,EAAS8H,OAQX,OACE,qBAAK7F,UAAU,mDAAf,SACE,+BACE,cAAC,IAAD,CACEU,GAAG,QACHV,UAAU,mEACVQ,QAASiH,EAHX,sBAOA,cAAC,IAAD,CACE/G,GAAG,QACHV,UAAU,+DACVQ,QA3Be,WACrBzC,EAAS6H,MACT7H,EAASuH,OAsBL,2BAOA,cAAC,IAAD,CACE5E,GAAG,aACHV,UAAU,kDACVQ,QAASiH,EAHX,0BAQA,cAAC,IAAD,CACEjH,QA/Bc,WAEpBzC,EAASD,MA8BHkC,UAAU,+DACVU,GAAG,SAHL,2BC7CKgH,GAAe,SAAC,GAAe,IAAdjE,EAAa,EAAbA,QAItB6C,ECHqB,SAACzD,EAAGc,GAEjC,IADE,IAAM2C,EAAS,GACT5C,EAAI,EAAGA,EAAIC,EAAQ3C,OAAO0C,IAG5B,GAFiBC,EAAQD,GAAG,KAEdb,EAAG,CAEf,IAAI,IAAImC,EAAI,EAAEA,EAAIrB,EAAQD,GAAG1C,OAAOgE,IACL,SAA1BrB,EAAQD,GAAGsB,GAAGnB,SACjByC,EAAO1D,KAAKe,EAAQD,GAAGsB,IAEzB,MAIP,OAAOsB,EDZSqB,CAHIC,cAAZC,SAEajI,aAAY,SAACC,GAAD,OAAWA,EAAM4D,WAAzCE,SAMR,OACE,sBAAK3D,UAAU,mBAAf,UACE,mBAAGA,UAAU,qCAAqCQ,QANnC,WACjBiD,EAAQqE,YAMN,oBAAIvK,KAAK,IAAT,SACG+I,EAAOlB,KAAI,SAACW,GAAD,OACV,6BACE,cAACzB,GAAD,eAA2ByB,GAAdA,EAAMlD,eEZlBkF,GAAkB,WAC5B,IAAQR,EAAS3H,aAAY,SAACC,GAAD,OAAWA,EAAMmI,QAAtCT,KACT,OACE,qCACE,cAAC,GAAD,IACCA,GAAQ,cAAC,GAAD,IACT,qBAAKvH,UAAU,oBAAf,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOwB,OAAK,EAACC,KAAK,QAAQC,UAAW4F,KACrC,cAAC,IAAD,CAAO9F,OAAK,EAACC,KAAK,aAAaC,UAAWoD,KAC1C,cAAC,IAAD,CAAOtD,OAAK,EAACC,KAAK,uBAAuBC,UAAWgG,KAEpD,cAAC,IAAD,CAAUhH,GAAG,mBCTVuH,GAAY,WAEvB,IAAMlK,EAAWgC,cAEjB,EAAgCd,oBAAS,GAAzC,mBAAOiJ,EAAP,KAAiBC,EAAjB,KACA,EAAoClJ,oBAAS,GAA7C,mBAAO2C,EAAP,KAAmBwG,EAAnB,KAwBA,OArBAjD,qBAAU,WACR/I,IAASY,OAAOqL,oBAAmB,SAAC9J,IAClC,OAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAAMZ,MACRI,EAASL,EAAMa,EAAKZ,IAAKY,EAAKX,YAAaW,EAAKV,WAEhDE,EAAS+F,GAAoBvF,EAAKZ,MAElCyK,GAAc,GAEdrK,EpBxBL,uCAAO,WAAOA,GAAP,eAAAC,EAAA,sEACmBqE,KADnB,OACEI,EADF,OAEJ1E,EAASgF,GAAgBN,IAFrB,2CAAP,wDoB4BK2F,GAAc,GAEjBD,GAAY,QAIZ,CAACpK,EAAUoK,EAAaC,IAEvBF,EAEK,yCAIP,cAAC,IAAD,UACE,8BACE,eAAC,IAAD,WACE,cAAC,GAAD,CACEtG,WAAYA,EAEZH,KAAK,QACLC,UAAWH,IAEb,cAAC,GAAD,CACEK,WAAYA,EAEZH,KAAK,IACLC,UAAWqG,KAGb,cAAC,IAAD,CAAUrH,GAAG,wB,kBC7DjB1B,GAAe,CACnBW,SAAS,EACTkB,SAAU,M,SCDN7B,GAAe,CACnBuI,MAAO,EACPrE,SAAW,EACXyB,MAAM,EACN2B,OAAS,ICLLtH,GAAe,CACnBsH,OAAQ,GACRiB,MAAO,GCFDe,GAAe,CAClB3E,QAAU,GACVT,SAAU,GCFTlE,GAAe,CACnBuI,MAAO,GCOHgB,GACe,qBAAXC,QACNA,OAAOC,sCACTC,KAEIC,GAAWC,aAAgB,CAC/B5L,KCdyB,WAAyB,IAAxB6C,EAAuB,uDAAf,GAAIgJ,EAAW,uCAEjD,OAAQA,EAAOtL,MACb,KAAKH,EACH,MAAO,CACLO,IAAKkL,EAAOrL,QAAQG,IACpB4B,KAAMsJ,EAAOrL,QAAQI,YACrBC,SAAUgL,EAAOrL,QAAQK,UAI7B,KAAKT,EACH,MAAO,GACT,QACE,OAAOyC,IDCXC,GLVuB,WAAmC,IAAlCD,EAAiC,uDAAzBb,GAAc6J,EAAW,uCACzD,OAAQA,EAAOtL,MACb,KAAKH,EACH,OAAO,2BACFyC,GADL,IAEEgB,SAAUgI,EAAOrL,UAGrB,KAAKJ,EACH,OAAO,2BACFyC,GADL,IAEEgB,SAAU,OAGd,KAAKzD,EACH,MAAO,CACLuC,SAAS,GAGb,KAAKvC,EACH,MAAO,CACLuC,SAAS,GAGb,QACE,OAAOE,IKdXgH,QHX6B,WAAoC,IAAnChH,EAAkC,uDAA1Bb,GAAe6J,EAAW,uCAEhE,OAAQA,EAAOtL,MACb,KAAKH,EACH,kCACKyC,GADL,IAEEyG,OAAM,aAAOuC,EAAOrL,WAExB,KAAKJ,EACL,kCACKyC,GADL,IAEE0H,MAAQ1H,EAAM0H,OAKhB,QACE,OAAO1H,IGLX0G,QJT4B,WAAgC,IAA/B1G,EAA8B,uDAAxBb,GAAa6J,EAAW,uCAExD,OAAQA,EAAOtL,MACb,KAAKH,EAKL,KAAKA,EACH,kCACKyC,GADL,IAEE0H,KAAOsB,EAAOrL,UAElB,KAAKJ,EACH,OAAO,2BACFyC,GADL,IAEEqD,SAAU2F,EAAOrL,QAAQwI,cACzBM,OAAO,GAAD,oBAAMzG,EAAMyG,QAAZ,CAAoBuC,EAAOrL,QAAQuI,UAE7C,KAAK3I,EACH,kCACKyC,GADL,IAEGyG,OAAQzG,EAAMyG,OAAOlB,KAAK,SAAAW,GAAK,OAC5BA,EAAMlD,KAAOgG,EAAOrL,QAAQqF,GAAMgG,EAAOrL,QAAQuI,MAAQA,OAIjE,KAAK3I,EACL,kCACKyC,GADL,IAEEyG,OAASzG,EAAMyG,OAAOwC,QAAO,SAAA/C,GAAK,OAChCA,EAAMlD,KAAOgG,EAAOrL,WAErB0F,SAAWrD,EAAMqD,SAAW,IAE/B,KAAK9F,EACL,kCACKyC,GADL,IAEE8E,MAAOkE,EAAOrL,UAEhB,KAAKJ,EACH,OAAO,2BACFyC,GADL,IAEE8E,MAAQ,EACRzB,SAAU,EACVoD,OAASuC,EAAOrL,UAEpB,QACE,OAAOqC,IItCd4D,QFbgC,WAAkC,IAAjC5D,EAAgC,uDAAxByI,GAAaO,EAAW,uCAE/D,OAAQA,EAAOtL,MACZ,KAAKH,EACH,kCACKyC,GADL,IAEE8D,QAAUkF,EAAOrL,UAEtB,KAAKJ,EAKL,KAAKA,EACH,kCACKyC,GADL,IAEEqD,SAAU2F,EAAOrL,UAGrB,QACE,OAAOqC,IENbmI,KDfyB,WAAkC,IAAjCnI,EAAgC,uDAAxBb,GAAa6J,EAAW,uCAE1D,OAAQA,EAAOtL,MACb,KAAKH,EACH,MAAM,CACJmK,MAAQ1H,EAAM0H,MAOlB,QACE,OAAO1H,MCKAkJ,GAAQC,aACnBL,GACAJ,GAAiBU,aAAgBC,QErBtBC,GAAY,WACvB,OACE,cAAC,IAAD,CAAUJ,MAAOA,GAAjB,SACG,cAAC,GAAD,OCFPK,IAASC,OAEL,cAAC,GAAD,IACFC,SAASC,eAAe,U","file":"static/js/main.ba5a6e1c.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/auth\";\r\n\r\nvar firebaseConfig = {\r\n  apiKey: \"AIzaSyBCZ-EBPuyj9npSVCXR7jnoSSb4zdMz0FY\",\r\n  authDomain: \"sweetshop-a6156.firebaseapp.com\",\r\n  databaseURL: \"https://sweetshop-a6156-default-rtdb.firebaseio.com\",\r\n  projectId: \"sweetshop-a6156\",\r\n  storageBucket: \"sweetshop-a6156.appspot.com\",\r\n  messagingSenderId: \"498046004367\",\r\n  appId: \"1:498046004367:web:5856430645e3ddc1ef94fa\",\r\n};\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\n\r\nconst db = firebase.firestore();\r\nconst googleAuthProvider = new firebase.auth.GoogleAuthProvider();\r\nconst facebookAuthProvider = new firebase.auth.FacebookAuthProvider()\r\nexport { db, googleAuthProvider,facebookAuthProvider\r\n  , firebase };\r\n\r\n","export const types = {\r\n  //Auth\r\n  login: \"[Auth] Login\",\r\n  loggout: \"[Auth] Loggout\",\r\n  //Ui Error\r\n  uiSetError: \"[UI] Set Error\",\r\n  uiRemoveError: \"[UI] Remove Error\",\r\n  //Ui login\r\n  uiStartLoading: \"[UI] Start loading\",\r\n  uiFinishLoading: \"[UI] Finish loading\",\r\n\r\n  //Products\r\n  loadedProducts: \"[Prod] Loading\",\r\n  openProducts : \"[Prod] Open\",\r\n  //History\r\n  openHistory: \"[History] Open\",\r\n  setHistory: \"[History] Set\",\r\n  loadHistory: \"[History] Loading\",\r\n  loadCantidadHistory: '[History] loadCantidad',\r\n  openProducHistory : '[History] Product Open',\r\n  newCantidadHistory: '[History] Set Cantidad',\r\n //Menu \r\n  openMenu: \"[Menu] Open\",\r\n\r\n  //Carrito\r\n  openCarrito: \"[Carro] Open\",\r\n  closeCarrito: \"[Carro] Closed\",\r\n\r\n  addSweetCarro: \"[Carro] AddSweet\",\r\n  addCantidadSweet: \"[Carro] cantidad+\",\r\n  deleteSweet: \"[Carro] DeleteSweet\",\r\n  updateCantidad: \"[Carro] updateCantid\",\r\n  totalCarro: \"[Carro] total\",\r\n  totalDulce: \"[Dulce] total\",\r\n  comprarCarro: \"[Carro] Comprar\",\r\n};","import { types } from \"../types/types\";\r\n\r\nexport const setError = (error) => ({\r\n  type: types.uiSetError,\r\n  payload: error,\r\n});\r\n\r\nexport const removeError = () => ({\r\n  type: types.uiRemoveError,\r\n});\r\n\r\nexport const startLoading = () => ({\r\n  type: types.uiStartLoading,\r\n  payload: true,\r\n});\r\n\r\nexport const finishLoading = () => ({\r\n  type: types.uiFinishLoading,\r\n  payload: false,\r\n});\r\n","// import { bindActionCreators } from \"redux\";\r\nimport { facebookAuthProvider, firebase } from \"../firebase/firebase\";\r\nimport { googleAuthProvider } from \"../firebase/firebase\";\r\nimport { types } from \"../types/types\";\r\nimport { startLoading, finishLoading } from \"./ui\";\r\nimport Swal from \"sweetalert2\";\r\n\r\n\r\n\r\nexport const login = (uid, displayName, photoURL) => ({\r\n  type: types.login,\r\n  payload: {\r\n    uid,\r\n    displayName,\r\n    photoURL,\r\n  },\r\n});\r\n\r\nexport const logout = () =>( {\r\n  \r\n    type: types.loggout\r\n})\r\nexport const startLogout = () => {\r\n  return async (dispatch) => {\r\n    await firebase.auth().signOut();\r\n\r\n    dispatch(logout());\r\n    // dispatch(noteLogout());\r\n  };\r\n};\r\nexport const startRegisterWithEmailPasswordName = (name, email, password) => {\r\n  return (dispatch) => {\r\n    firebase\r\n      .auth()\r\n      .createUserWithEmailAndPassword(email, password)\r\n      .then(async ({ user }) => {\r\n        await user.updateProfile({ displayName: name });\r\n\r\n        dispatch(login(user.uid, user.displayName));\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n        Swal.fire(\"Error\", e.message, \"error\");\r\n      });\r\n  };\r\n};\r\nexport const startLoginEmailPassword = (email, password) => {\r\n  return (dispatch) => {\r\n    dispatch(startLoading());\r\n    firebase\r\n      .auth()\r\n      .signInWithEmailAndPassword(email, password)\r\n      .then(({ user }) => {\r\n        dispatch(login(user.uid, user.displayName));\r\n        dispatch(finishLoading());\r\n        \r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n        dispatch(finishLoading());\r\n        Swal.fire(\"Error\", e.message, \"error\");\r\n      });\r\n  };\r\n};\r\n\r\nexport const startGoogleLogin = () => {\r\n  return (dispatch) => {\r\n    firebase\r\n      .auth()\r\n      .signInWithPopup(googleAuthProvider)\r\n      .then(({ user }) => {\r\n        dispatch(login(user.uid, user.displayName, user.photoURL));\r\n        \r\n      })\r\n      .catch( (e) => console.log(e));\r\n  };\r\n};\r\n\r\nexport const startFacebookLogin = () => {\r\n  return (dispatch) => {\r\n    firebase\r\n      .auth()\r\n      .signInWithPopup(facebookAuthProvider)\r\n      .then(({ user }) => {\r\n        dispatch(login(user.uid, user.displayName));\r\n      })\r\n      .catch((e) => console.log(e));\r\n  }\r\n}","import { useState } from \"react\";\r\n// custom hook se encarga de validar los formularios\r\nexport const useForm = (initialState = {}) => {\r\n  const [values, setvalues] = useState(initialState);\r\n\r\n  const reset = () => {\r\n    setvalues(initialState);\r\n  };\r\n\r\n  const handleInputChange = ({ target }) => {\r\n    setvalues({\r\n      ...values,\r\n      [target.name]: target.value,\r\n    });\r\n  };\r\n\r\n  return [values, handleInputChange, reset];\r\n};\r\n","import React from 'react'\r\nimport {useDispatch,useSelector} from 'react-redux'\r\nimport { Link } from \"react-router-dom\";\r\nimport {  startFacebookLogin, startGoogleLogin, startLoginEmailPassword } from '../../actions/auth';\r\nimport {useForm} from '../../hooks/useForm'\r\nexport const LoginScreen = () => {\r\n\r\n   const [formValues, handleInputChange] = useForm({\r\n     email:\"\",\r\n     password: \"\",\r\n   })\r\n    const {loading} = useSelector( state => state.ui );  \r\n    const {email,password} = formValues;\r\n    const dispatch = useDispatch();\r\n    const handleLogin = (e) => {\r\n         dispatch(startLoginEmailPassword(email,password))\r\n         e.preventDefault();\r\n    }\r\n    const handleGoogleLogin = () => {\r\n      dispatch(startGoogleLogin());\r\n    };\r\n    const handleFacebookLogin = () => {\r\n      dispatch(startFacebookLogin())\r\n    }\r\n  return (\r\n    <div className=\"login__container\">\r\n      <h1>Login</h1>\r\n      <form\r\n        onSubmit={handleLogin}\r\n        className=\"animate__animated animate__fadeIn\"\r\n      >\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Email\"\r\n          name=\"email\"\r\n          value={email}\r\n          className=\"auth__input mt-2\"\r\n          onChange={handleInputChange}\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          name=\"password\"\r\n          value={password}\r\n          className=\"auth__input mt-2\"\r\n          onChange={handleInputChange}\r\n        />\r\n\r\n        <button\r\n          className=\"btn btn-primary btn-block mt-2\"\r\n          type=\"submit\"\r\n          disabled={loading}\r\n        >\r\n          Login\r\n        </button>\r\n        <div className=\"login-extra\">\r\n          <img\r\n            className=\"google-icon\"\r\n            src=\"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg\"\r\n            alt=\"google button\"\r\n            onClick={handleGoogleLogin}\r\n          />\r\n          <img\r\n            className=\"facebook-icon\"\r\n            src=\"https://icons-for-free.com/iconfiles/png/512/app+facebook+global+ios+media+social+icon-1320193328615936618.png\"\r\n            alt=\"facebook button\"\r\n            onClick={handleFacebookLogin}\r\n          />\r\n        </div>\r\n        <Link to=\"/auth/register\" className=\"link mt-2\">\r\n          Create New Acountt\r\n        </Link>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react'\r\nimport {useForm} from '../../hooks/useForm'\r\nimport {Link} from 'react-router-dom'\r\nimport {useDispatch,useSelector} from 'react-redux'\r\nimport validator from \"validator\";\r\nimport { removeError, setError } from '../../actions/ui';\r\nimport { startRegisterWithEmailPasswordName } from '../../actions/auth';\r\nexport const RegisterScreen = () => {\r\n   \r\n  const dispatch = useDispatch();\r\n  const [formValues, handleInputChange] = useForm({\r\n    name : \"\" ,\r\n    email : \"\" ,\r\n    password: \"\" ,\r\n    password2: \"\" ,\r\n\r\n  });\r\n  const { name, email, password, password2 } = formValues;\r\n  const {msgError} = useSelector( state => state.ui );\r\n  \r\n    const handleRegister = (e) => {\r\n      e.preventDefault();\r\n\r\n      if (isFormValid()) {\r\n        dispatch(startRegisterWithEmailPasswordName(name, email, password));\r\n      }\r\n    };\r\n\r\n    const isFormValid = () => {\r\n      if (name.trim().length === 0) {\r\n        const error = \"Name is required\";\r\n        dispatch(setError(error));\r\n        return false;\r\n      } else if (!validator.isEmail(email)) {\r\n        console.log(\"email no es valido\");\r\n        dispatch(setError(\"Invalid Email\"));\r\n        return false;\r\n      } else if (password !== password2) {\r\n        console.log(\r\n          \"No concuerdan las passwords\"\r\n        );\r\n        dispatch(setError(\"Passwords don't match\"));\r\n        return false;\r\n      }\r\n      else if ( password.length < 5){\r\n        console.log(\r\n          \"Minimo 6 caracteres para la contraseña\"\r\n        );\r\n        dispatch(setError(\"Min 6 characters\"));\r\n        return false;\r\n      }\r\n\r\n      dispatch(removeError());\r\n      return true;\r\n    };\r\n  return (\r\n    <div>\r\n      <h1 className=\"auth__title\">Register </h1>\r\n      <form\r\n        onSubmit={handleRegister}\r\n        className=\"animate__animated animate__fadeIn\"\r\n      >\r\n        {msgError !== null && (\r\n          <div className=\"auth__alert-error\">{msgError}</div>\r\n        )}\r\n\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Name\"\r\n          name=\"name\"\r\n          className=\"auth__input \"\r\n          autoComplete=\"off\"\r\n          onChange={handleInputChange}\r\n          value={name}\r\n        />\r\n\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Email\"\r\n          name=\"email\"\r\n          className=\"auth__input mt-2\"\r\n          onChange={handleInputChange}\r\n          value={email}\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          name=\"password\"\r\n          className=\"auth__input mt-2\"\r\n          onChange={handleInputChange}\r\n          value={password}\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Confirm Password \"\r\n          name=\"password2\"\r\n          className=\"auth__input mt-2\"\r\n          onChange={handleInputChange}\r\n          value={password2}\r\n        />\r\n\r\n        <button className=\"btn btn-primary btn-block mt-2\" type=\"submit\">\r\n          Register\r\n        </button>\r\n\r\n        <hr />\r\n\r\n        <Link to=\"/auth/login\" className=\"link mt-2\">\r\n          Already Registered ?\r\n        </Link>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react'\r\nimport { Switch, Route, Redirect } from \"react-router-dom\";\r\nimport {LoginScreen} from '../components/auth/LoginScreen'\r\nimport { RegisterScreen } from \"../components/auth/RegisterScreen\";\r\n\r\nexport const AuthRouter = () => {\r\n  return (\r\n    <div className=\"auth__main\">\r\n      <div className=\"auth__box-container\">\r\n        <Switch>\r\n          <Route exact path=\"/auth/login\" component={LoginScreen} />\r\n          <Route exact path=\"/auth/register\" component={RegisterScreen} />\r\n\r\n          <Redirect to=\"/auth/login\"  />\r\n        </Switch>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react'\r\nimport PropTypes from \"prop-types\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nexport const PrivateRouter = ({\r\n  isLoggedIn,\r\n  component: Component,\r\n  ...rest\r\n}) => {\r\n  \r\n  localStorage.setItem(\"lastPath\", rest.location.pathname);\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      component={(props) =>\r\n        isLoggedIn ? <Component {...props} /> : <Redirect to=\"/auth/login\" />\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nPrivateRouter.propTypes = {\r\n  isLoggedIn: PropTypes.bool.isRequired,\r\n  component: PropTypes.func.isRequired,\r\n};","import React from 'react'\r\n\r\nimport PropTypes from \"prop-types\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nexport const PublicRouter = ({ isLoggedIn, component: Component, ...rest }) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      component={(props) =>\r\n        !isLoggedIn ? <Component {...props} /> : <Redirect to=\"/\" />\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nPublicRouter.propTypes = {\r\n  isLoggedIn: PropTypes.bool.isRequired,\r\n  component: PropTypes.func.isRequired,\r\n};\r\n","import { db } from \"../firebase/firebase\";\r\n\r\n//Cargamos los productos \r\nexport const loadProducts = async (uid) => {\r\n  const productSnap = await db\r\n    .collection(`Productos/`)\r\n    .get();\r\n  const products = [];\r\n\r\n  productSnap.forEach((snapHijo) => {\r\n    products.push({\r\n      id: snapHijo.id,\r\n      ...snapHijo.data(),\r\n    });\r\n  });\r\n \r\n  return products;\r\n};\r\n","import {types} from '../types/types'\r\nimport {loadProducts} from '../helpers/loadProducts'\r\n\r\nexport const startLoadProducts = () => {\r\n\r\n   return async (dispatch) => {\r\n      const products = await loadProducts()\r\n      dispatch(loadingProducts(products))\r\n      \r\n   }\r\n}\r\n\r\nexport const loadingProducts = (products) => ({\r\n\r\n    type: types.loadedProducts,\r\n    payload: products\r\n})\r\n\r\nexport const openProducts = () => ({\r\n   type: types.openProducts\r\n})","\r\nimport { db } from \"../firebase/firebase\";\r\n\r\n/*\r\n Cargamos la cantidad de compras que existe en la base de datos para saber con cual ID sigue la proxima compra si la cantidad es 4\r\n la siguiente compra es la 5 , si no hay cantidad si no existe entonces devolvemos 0 para que la nueva compra sea la 1 \r\n*/\r\nexport const loadCantidadCompras = async (uid) => {\r\n  \r\n    const cantidad = 0;\r\n    const comprasSnap = await db.collection(`${uid}`).doc('cantidad').get()\r\n    \r\n    const numero = comprasSnap.data()\r\n\r\n    if(numero === undefined){\r\n      return cantidad;\r\n    }\r\n    else{\r\n     const {num} = numero;\r\n     return num;\r\n    }\r\n \r\n}","\r\nimport { db } from \"../firebase/firebase\";\r\n\r\n/*\r\nCargamos las compras dependiendo de la cantidad que hayamos obtenido que existe en la base de datos \r\nesas son las veces que el ciclo traera una por una \r\nSi en el loadCantidad obtenemos 5 entonces el for recorrera 5 veces el documento historial traera las colecciones de compras del 1 al 5 con sus dulces\r\n*/\r\n\r\nexport const loadCompras = async (uid,cantidad) => {\r\n   const history = []\r\n   for(let i = 1;i <= cantidad;i ++){\r\n    const comprasSnap = await db.collection(`${uid}/historial/${i}`).get();\r\n    const compras = [];\r\n  \r\n    compras.push(`${i}`);\r\n    comprasSnap.forEach((comprasHijo) => {\r\n      compras.push({\r\n        idSweet: comprasHijo.id,\r\n        ...comprasHijo.data(),\r\n      });\r\n     \r\n    });\r\n    // compras.push(`compra#${i}`)\r\n    history.push(compras)\r\n   \r\n   }\r\n\r\n   return history;\r\n}\r\n","import { db } from '../firebase/firebase'\r\nimport { loadCantidadCompras } from '../helpers/cantidadCompras'\r\nimport { loadCompras } from '../helpers/loadCompras'\r\nimport {types} from '../types/types'\r\n\r\n//Carga la cantidad de compras que hay en la bd al state del history\r\nexport const loadCantidadHistory = () => {\r\n  return async (dispatch, getState) => {\r\n    const { uid } = getState().auth;\r\n    const cantidad = await loadCantidadCompras(uid);\r\n    dispatch(startLoadCantidadHistory(cantidad));\r\n    dispatch(loadHistory(uid,cantidad))\r\n  };\r\n};\r\n\r\n//Actualiza la lista de compras en el historial\r\nexport const loadHistory = (uid,cantidad) => {\r\n\r\n  return  (dispatch,getState) => {\r\n    const compras =  loadCompras(uid,cantidad).then(compritas => dispatch(setHistory(compritas))).catch(e => console.log(e))\r\n  }\r\n}\r\n//Cambia el estado de el history\r\nexport const setHistory = (compras) => ({\r\n  type: types.setHistory,\r\n  payload: compras,\r\n});\r\n\r\n//Agrega y actualiza la cantidad de compras en la bd y en el state y agrega la nueva compra con sus respectivos dulces\r\nexport const addCompraHistorial = () => {\r\n  return async (dispatch, getState) => {\r\n    const { sweets,total } = getState().carrito;\r\n    const { uid } = getState().auth;\r\n    const { cantidad } = getState().history;\r\n    const Numero = {\r\n      num: cantidad\r\n    }\r\n    const data = {\r\n       total\r\n    }\r\n    await db.collection(`${uid}/historial/${cantidad}`).doc('info').set(data);\r\n    for (let i = 0; i < sweets.length; i++) {\r\n       await db\r\n        .collection(`${uid}/historial/${cantidad}`)\r\n        .add(sweets[i]);\r\n    }\r\n     \r\n   await db.collection(`${uid}`).doc('cantidad').set(Numero);\r\n   dispatch(loadHistory())\r\n  \r\n  };\r\n};\r\n\r\n\r\n//cambia el estado de la cantidad de compras \r\nexport const startLoadCantidadHistory = (cantidad) => ({\r\n  type : types.loadCantidadHistory,\r\n  payload : cantidad\r\n})\r\n//modifica la cantidad de compras en history \r\nexport const addCantidadHistory= () => {\r\n  return (dispatch,getState) => {\r\n     const { cantidad } = getState().history\r\n\r\n     const newCantidad = cantidad+ 1 ;\r\n\r\n     dispatch(setCantidadHistory(newCantidad))\r\n  }\r\n}\r\n//cambia la cantidad en el state \r\nexport const setCantidadHistory = (newCantidad) => ({\r\n  type: types.newCantidadHistory,\r\n  payload : newCantidad\r\n})\r\n\r\n","import React from 'react'\r\nimport { Historial } from './ScreenCompras';\r\n\r\nexport const Sweets = React.memo(({Nombre,precio,cantidad,total}) => {\r\n\r\n  return (\r\n    <>\r\n      <div className=\"historial_in_sweets\">\r\n        \r\n        <Historial />\r\n      </div>\r\n\r\n      <div className=\"content_product_compra\">\r\n        <h1>{Nombre}</h1>\r\n        <div>\r\n          <h2>Precio unidad : {precio}</h2>\r\n          <h2>Cantidad : {cantidad}</h2>\r\n          <span>Total : {total}</span>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n})\r\n","import React from 'react'\r\nimport { Link } from \"react-router-dom\";\r\nimport { Sweets } from './Sweets';\r\n\r\nexport const Compras = React.memo(({nombre,total}) => {\r\n \r\n \r\n  return (\r\n    <div>\r\n      <h2>Compra # {nombre}</h2>\r\n      <p>Total : {total}</p>\r\n      <span>\r\n        <Link to={`/historial/${nombre}`}>Ver mas ...</Link>\r\n      </span>\r\n     \r\n    </div>\r\n  );\r\n})\r\n","import React ,{useEffect}from 'react'\r\nimport {useSelector,useDispatch} from 'react-redux'\r\nimport { loadCantidadHistory, loadHistory } from '../../actions/historial';\r\nimport { getDatosCompras } from '../../helpers/getDatosCompra';\r\nimport { Compras } from './Compras';\r\nimport Swal ,{timerInterval}from \"sweetalert2\";\r\n\r\nexport const Historial = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const {compras} = useSelector( state => state.history );\r\n  const {uid} = useSelector( state => state.auth );\r\n  let info = getDatosCompras(compras)\r\n  \r\n\r\nuseEffect(() => {\r\n  console.log('no sirve el condicional pero si el useeefect')\r\n  \r\n  if(compras === []){\r\n    dispatch(loadCantidadHistory(uid))\r\n    dispatch(loadHistory(uid));\r\n    console.log('sirve el condicional pero no los dispatch')\r\n  }\r\n}, [dispatch])\r\n  return (\r\n    <>\r\n      <div className=\"content_historial\">\r\n        <ul>\r\n          <li>\r\n            {\r\n              (compras.length === 0) && <h1>cargando ...</h1>\r\n            }\r\n             \r\n    \r\n            {info.map((inf) => (\r\n              <Compras key={inf.nombre} nombre={inf.nombre} total={inf.total} />\r\n            ))}\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","/*\r\nSe agrego una collecion a cada compra llamada info donde se encuentra el total y el ID de la compra\r\npara esto tuvimos que recorrer cada compra sacar esa coleccion y extraer sus datos para posteriormente\r\nutilizarlos en el componente de compras (Total,Nombre(id))\r\n\r\n*/\r\n\r\n\r\nexport const getDatosCompras = (compras) => {\r\n  let info = [];\r\n  for (let i = 0; i < compras.length; i++) {\r\n    const nombre = compras[i][0];\r\n    let total = 0;\r\n    for (let j = 1; j < compras[i].length; j++) {\r\n      const tota = compras[i][j].idSweet;\r\n      \r\n      if (tota === \"info\") {\r\n        total = compras[i][j].total;\r\n      }\r\n    }\r\n\r\n    let dato = {\r\n      nombre,\r\n      total,\r\n    };\r\n    info.push(dato);\r\n  }\r\n\r\n  return info;\r\n};\r\n","import {types} from '../types/types'\r\n\r\nexport const openMenu = () => ({\r\n  type : types.openMenu\r\n})","import React from 'react'\r\nimport { startLogout } from \"../../actions/auth\";\r\nimport { useDispatch,useSelector } from \"react-redux\";\r\nimport { openMenu } from '../../actions/menu';\r\nimport {  useHistory } from \"react-router-dom\";\r\n\r\n\r\nexport const Navbar = () => {\r\n   const dispatch = useDispatch();\r\n  \r\n  const { name, photoURL } = useSelector((state) => state.auth);\r\n  const history = useHistory();\r\n \r\n  const handleLogout = () => {\r\n    dispatch(startLogout());\r\n    history.replace('/login')\r\n  };\r\n  const handleOpenMenu = () => {\r\n    dispatch(openMenu())\r\n  }\r\n  return (\r\n    <div className=\"navBar\">\r\n      <img src={photoURL} width=\"40px\" height=\"40px\" alt=\"imagen profile\" className=\"pointer\" onClick={handleOpenMenu}></img>\r\n      \r\n      <span>{name} </span>\r\n      {/* <form>\r\n        <input\r\n          onChange={handleInputChange}\r\n          type=\"text\"\r\n          name=\"searchText\"\r\n          value={searchText}\r\n          placeholder=\"Find your sweet\"\r\n          autoComplete=\"off\"\r\n          className=\"form-control\"\r\n        ></input>\r\n        <button className=\"btn m-1 btn-block btn-outline-primary\">\r\n          Search...\r\n        </button> */}\r\n        <button className=\"btn-danger\" onClick={handleLogout}>\r\n          Logout\r\n        </button>\r\n      {/* </form> */}\r\n    </div>\r\n  );\r\n}\r\n","\r\nimport { types } from \"../types/types\";\r\nexport const openCarrito = () => ({\r\n  type: types.openCarrito,\r\n  payload: true,\r\n});\r\n\r\nexport const closeCarrito = () => ({\r\n  type: types.closeCarrito,\r\n  payload: false,\r\n});\r\n\r\n//Cargamos el nuevo producto a el carrito, si el producto ya existe solo agregamos la cantidad , si no existe agregamos el producto\r\nexport const loadAddCarrito = (sweet, cantidad) => {\r\n  return (dispatch, getState) => {\r\n    const sweets = getState().carrito.sweets;\r\n    let exist = false;\r\n    const cantidadSweet = sweets.length + 1;\r\n\r\n    sweets.forEach((stateSweet) => {\r\n      \r\n        if (stateSweet.id === sweet.id) {\r\n          exist = true;\r\n          cantidad = stateSweet.cantidad + cantidad;\r\n          \r\n        }\r\n      \r\n    });\r\n    const total = cantidad * sweet.precio;\r\n    if (!exist) {\r\n      dispatch(addSweetCarrito(sweet, cantidad, cantidadSweet, total));\r\n    } else {\r\n      dispatch(changeCantidadSweet(sweet.id, sweet, cantidad, total));\r\n    }\r\n  };\r\n};\r\n//Agregamos el dulce a el state de dulces,con su cantidad y su total anteriormente calculado\r\nexport const addSweetCarrito = (sweet, cantidad, cantidadSweet, total) => ({\r\n  type: types.addSweetCarro,\r\n  payload: {\r\n    cantidadSweet,\r\n    sweet: {\r\n      ...sweet,\r\n      cantidad,\r\n      total,\r\n    },\r\n  },\r\n});\r\n//Cambiamos la cantidad  del dulce\r\nexport const changeCantidadSweet = (id, sweet, cantidad, total) => ({\r\n  type: types.addCantidadSweet,\r\n  payload: {\r\n    id,\r\n    sweet: {\r\n      id,\r\n      ...sweet,\r\n      cantidad,\r\n      total,\r\n    },\r\n  },\r\n});\r\n//agregamos nueva cantidad del dulce \r\nexport const addCantidadSweet = (sweet) => ({\r\n  type: types.addCantidadSweet,\r\n  payload: sweet,\r\n});\r\n//Actualizamos el total si un dulce es eliminado \r\nexport const uploadTotalDelete = (id,totalSweet) => {\r\n   return (dispatch,getState) => {\r\n      const {total} = getState().carrito\r\n\r\n      const newTotal = total - totalSweet;\r\n      dispatch(setTotal(newTotal))\r\n      dispatch(deleteSweet(id))\r\n   }\r\n   \r\n}\r\n//eliminamos el dulce \r\nexport const deleteSweet = (id) => ({\r\n  type: types.deleteSweet,\r\n  payload: id,\r\n});\r\n//cambios el total en el state \r\nexport const setTotal = (total) => ({\r\n  type: types.totalCarro,\r\n  payload: total,\r\n});\r\n//Calculamos el total de todos los dulces\r\nexport const calcularTotal = () => {\r\n  return (dispatch, getState) => {\r\n    let total = 0;\r\n    const { sweets } = getState().carrito;\r\n  \r\n    sweets.forEach((sweet) => {\r\n      total = total + sweet.total;\r\n    });\r\n    dispatch(setTotal(total));\r\n  };\r\n};\r\n//vaciamos ducles en el carrito \r\nexport const comprarCarrito = () => ({\r\n  type : types.comprarCarro,\r\n  payload : []\r\n  \r\n})\r\n\r\n","import React from 'react'\r\nimport {useDispatch} from 'react-redux'\r\nimport { loadAddCarrito } from '../../actions/carrito';\r\nimport { useForm } from '../../hooks/useForm';\r\n\r\nconst initialState = {\r\n  cantidad : \"\"\r\n}\r\nexport const ProductsScreen = React.memo((sweet) => {\r\n  const dispatch = useDispatch();\r\n  const [formValues,handleInputChange,reset] = useForm(initialState)\r\n  let {cantidad} = formValues\r\n\r\n  const handleAdd = () => {\r\n    console.log(cantidad)\r\n     if(cantidad === \"\"){\r\n       cantidad = 1 ;\r\n     }\r\n     else{\r\n       cantidad = parseInt(cantidad);\r\n     }\r\n     dispatch(loadAddCarrito(sweet,cantidad))\r\n     reset()\r\n  }\r\n  return (\r\n    <div className=\"product\">\r\n      <div className=\"header_product\">\r\n        <span>{sweet.Nombre}</span>\r\n        <i className=\"fas fa-plus-circle pointer\" onClick={handleAdd}></i>\r\n      </div>\r\n      <div className=\"img_product\">\r\n        <img src={sweet.url} alt=\"imagen producto\"></img>\r\n      </div>\r\n      <div className=\"info_product\">\r\n        <span>${sweet.precio}</span>\r\n        <input\r\n          type=\"number\"\r\n          name=\"cantidad\"\r\n          onChange={handleInputChange}\r\n          value={cantidad}\r\n        ></input>\r\n      </div>\r\n    </div>\r\n  );\r\n})\r\n","import React from 'react'\r\nimport {ProductsScreen} from '../products/ProductsScreen'\r\nimport {useSelector,useDispatch} from 'react-redux'\r\nimport { openCarrito } from '../../actions/carrito'\r\nimport { openProducts } from '../../actions/products'\r\n\r\n\r\n\r\nexport const Shop = ({history}) => {\r\n   const dispatch = useDispatch();\r\n   const { sweets } = useSelector((state) => state.product  );\r\n   const { cantidad } = useSelector((state) => state.carrito);\r\n   \r\n   const handleCarritoOpen = () => {\r\n      dispatch(openCarrito())\r\n      dispatch(openProducts()) \r\n   } \r\n   \r\n  return (\r\n    <div className=\"content_products animate__animated animate__fadeIn\">\r\n      <h1>Sweets</h1>\r\n      \r\n        <i\r\n          className=\"fas fa-shopping-cart carrito_icon pointer\"\r\n          onClick={handleCarritoOpen}\r\n        >\r\n          {cantidad}\r\n        </i>\r\n     \r\n\r\n      <div className=\"grid_products\">\r\n        {sweets.map((sweet) => (\r\n          <ProductsScreen key={sweet.id} {...sweet} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react'\r\nimport { useDispatch} from \"react-redux\";\r\nimport { uploadTotalDelete } from '../../actions/carrito';\r\n\r\nexport const SweetsCarrito = React.memo(({id,Nombre,cantidad,url,total}) => {\r\n  const dispatch = useDispatch();\r\n  // const [formValues, handleInputChange] = useForm({});\r\n  // let { cantidad } = formValues;\r\n\r\n  const handleDelete = () => {\r\n    dispatch(uploadTotalDelete(id,total))\r\n  }\r\n \r\n  return (\r\n    <div className=\"carrito_product\">\r\n      <div className=\"header_product\">\r\n        <span>{Nombre}</span>\r\n        <i className=\"fas fa-trash pointer\" onClick={handleDelete}></i>\r\n      </div>\r\n      <div className=\"img_product\">\r\n        <img\r\n          src={url}\r\n          width=\"40px\"\r\n          alt=\"imagen product\"\r\n        ></img>\r\n      </div>\r\n      <div className=\"info_product\">\r\n       {cantidad }\r\n     \r\n      </div>\r\n    </div>\r\n  );\r\n})\r\n","import React,{useEffect} from 'react'\r\nimport {useSelector,useDispatch} from 'react-redux'\r\nimport {  calcularTotal, closeCarrito, comprarCarrito } from '../../actions/carrito';\r\nimport {\r\n  addCantidadHistory,\r\n  addCompraHistorial,\r\n} from \"../../actions/historial\";\r\nimport { openProducts } from '../../actions/products';\r\nimport { SweetsCarrito } from './SweetsCarrito';\r\n\r\nexport const Carrito = () => {\r\n  \r\n  const dispatch = useDispatch();\r\n  const {total : totalP} = useSelector( state => state.carrito );\r\n  const {sweets} = useSelector( state => state.carrito );\r\n\r\n  \r\n  const handleBack = () => {\r\n     dispatch(closeCarrito())\r\n     dispatch(openProducts())\r\n  }\r\n  const handleComprar = () => {\r\n    dispatch(addCantidadHistory())\r\n    dispatch(addCompraHistorial())\r\n    dispatch(comprarCarrito());\r\n  }\r\n  useEffect(() => {\r\n    dispatch(calcularTotal())\r\n    \r\n  }, [dispatch])\r\n\r\n  return (\r\n    <div className=\"content_products animate__animated animate__fadeIn\">\r\n      <i className=\"fas fa-backspace pointer icon_back\" onClick={handleBack}></i>\r\n      <h1>Shopping cart</h1>\r\n      <div className=\"grid_products\">\r\n        {sweets.map((sweet) => (\r\n          <SweetsCarrito key={sweet.id} {...sweet} />\r\n        ))}\r\n      </div>\r\n      <span>Total = {totalP} </span>\r\n      <button className=\"btn-danger btn-comprar\" onClick={handleComprar}>\r\n        Comprar\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import React ,{useEffect}from 'react'\r\nimport {Shop} from '../shop/Shop'\r\nimport {Carrito} from '../shop/Carrito'\r\nimport {  useSelector,useDispatch } from \"react-redux\";\r\nimport { loadHistory } from '../../actions/historial';\r\n\r\n\r\nexport const Principal =() => {\r\n  const dispatch = useDispatch();\r\n  // useEffect(() => {\r\n  //   console.log('cargo principal')\r\n  //   dispatch(loadHistory())\r\n  // }, [dispatch])\r\n\r\n  const {open:openCarrito} = useSelector( state => state.carrito );\r\n  return (\r\n    < >\r\n      {(openCarrito) ? <Carrito /> : <Shop/> }\r\n    \r\n    </>\r\n  );\r\n}\r\n","import React from 'react'\r\nimport {useDispatch} from 'react-redux'\r\nimport { Link } from \"react-router-dom\";\r\nimport {  startLogout } from '../../actions/auth';\r\nimport {  closeCarrito, openCarrito } from '../../actions/carrito';\r\n\r\nimport { openMenu } from '../../actions/menu';\r\n\r\n\r\nexport const Menu = () => {\r\n  const dispatch = useDispatch();\r\n  \r\n  const handleShopping = () => {\r\n    dispatch(openCarrito());\r\n    dispatch(openMenu());\r\n  };\r\n  const handleMenu = ()=> {\r\n    dispatch(openMenu())\r\n    dispatch(closeCarrito())\r\n  }\r\n  \r\n  const handleLoggout = () => { \r\n  \r\n    dispatch(startLogout());\r\n    \r\n  };\r\n  return (\r\n    <div className=\"content_menu animate__animated   animate__fadeIn\">\r\n      <ul>\r\n        <Link\r\n          to=\"/shop\"\r\n          className=\"nav_link animate__animated animate__backInLeft animate__faster\t\"\r\n          onClick={handleMenu}\r\n        >\r\n          Products\r\n        </Link>\r\n        <Link\r\n          to=\"/shop\"\r\n          className=\"nav_link animate__animated animate__backInLeft animate__fast\"\r\n          onClick={handleShopping}\r\n        >\r\n          Shopping cart\r\n        </Link>\r\n        <Link\r\n          to=\"/historial\"\r\n          className=\"nav_link animate__animated animate__backInLeft \"\r\n          onClick={handleMenu}\r\n          \r\n        >\r\n          Shop History\r\n        </Link>\r\n        <Link\r\n          onClick={handleLoggout}\r\n          className=\"nav_link animate__animated animate__backInLeft animate__slow\"\r\n          to=\"/login\"\r\n        >\r\n          Log out\r\n        </Link>\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react'\r\nimport { useParams } from 'react-router-dom';\r\nimport {useSelector} from 'react-redux'\r\nimport { getDulcesById } from '../../helpers/getDulcesById';\r\nimport { Sweets } from './Sweets';\r\n\r\nexport const ScreenSweets = ({history}) => {\r\n  const {compraId} = useParams()\r\n  \r\n  const { compras } = useSelector((state) => state.history);\r\n  const sweets = getDulcesById(compraId,compras)\r\n  const handleBack = () => {\r\n    history.goBack()\r\n  }\r\n  \r\n  return (\r\n    <div className=\"content_products\">\r\n      <i className=\"fas fa-backspace pointer icon_back\" onClick={handleBack}></i>\r\n      <ol type=\"1\">\r\n        {sweets.map((sweet) => (\r\n          <li>\r\n            <Sweets key={sweet.id} {...sweet} />\r\n          </li>\r\n        ))}\r\n      </ol>\r\n    </div>\r\n  );\r\n}\r\n","\r\n\r\n\r\n/*Aqui recorrimos cada compra e ignoramos la coleccion 'info' para solo agregar los dulces dependiendo de el id\r\n  el id lo agregamos nosotros segun la cantidad de compras que haya hecho el usuario \r\n*/\r\n\r\nexport const getDulcesById = (id,compras) => {\r\n  const sweets = [];\r\nfor(let i = 0 ;i < compras.length;i ++){\r\n       const nombre = (compras[i][0]);\r\n       \r\n      if(nombre === id){\r\n        \r\n        for(let j = 1;j < compras[i].length;j++){\r\n          if(compras[i][j].idSweet !== 'info')\r\n          sweets.push(compras[i][j])\r\n        }\r\n        break;\r\n      }\r\n     \r\n}\r\n return sweets;\r\n}","import React from 'react'\r\nimport { Switch, Route, Redirect } from \"react-router-dom\";\r\nimport { Historial } from '../components/historial/ScreenCompras';\r\nimport {useSelector} from 'react-redux'\r\nimport { Navbar } from '../components/UI/Navbar';\r\nimport { Principal } from '../components/UI/Principal';\r\nimport { Menu } from '../components/UI/Menu';\r\nimport { ScreenSweets } from '../components/historial/ScreenSweets';\r\n\r\nexport const DashboardRoutes = () => {\r\n   const { open } = useSelector((state) => state.menu);\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      {open && <Menu />}\r\n      <div className=\"content_principal\">\r\n        <Switch>\r\n          <Route exact path=\"/shop\" component={Principal} />\r\n          <Route exact path=\"/historial\" component={Historial} />\r\n          <Route exact path=\"/historial/:compraId\" component={ScreenSweets} />\r\n\r\n          <Redirect to=\"/shop\" />\r\n        </Switch>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","import React, {useState,useEffect} from 'react'\r\nimport {useSelector} from 'react-redux'\r\nimport { BrowserRouter as Router, Switch, Redirect } from \"react-router-dom\";\r\n import { firebase } from \"../firebase/firebase\";\r\nimport {AuthRouter} from './AuthRouter'\r\nimport {PrivateRouter} from './PrivateRouter'\r\nimport {PublicRouter} from './PublicRouter'\r\nimport {useDispatch} from 'react-redux'\r\nimport { login } from '../actions/auth';\r\nimport { startLoadProducts } from '../actions/products';\r\nimport { DashboardRoutes } from './DashBoardRoutes';\r\nimport { loadCantidadHistory, loadHistory } from '../actions/historial';\r\nexport const AppRouter = () => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const [checking, setChecking] = useState(true);\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  // const {compras} = useSelector( state => state.history );\r\n\r\n  useEffect(() => {\r\n    firebase.auth().onAuthStateChanged((user) => {\r\n      if (user?.uid) {\r\n        dispatch(login(user.uid, user.displayName, user.photoURL));\r\n         \r\n        dispatch(loadCantidadHistory(user.uid));\r\n        \r\n        setIsLoggedIn(true);\r\n        \r\n        dispatch(startLoadProducts()); \r\n       \r\n        \r\n      } else {\r\n        setIsLoggedIn(false);\r\n      }\r\n     setChecking(false); \r\n     \r\n      \r\n    });\r\n  }, [dispatch, setChecking, setIsLoggedIn]);\r\n\r\n  if (checking) {\r\n    \r\n    return <h1>Mas....</h1>\r\n    \r\n  }\r\n  return (\r\n    <Router>\r\n      <div>\r\n        <Switch>\r\n          <PublicRouter\r\n            isLoggedIn={isLoggedIn}\r\n            \r\n            path=\"/auth\"\r\n            component={AuthRouter}\r\n          />\r\n          <PrivateRouter\r\n            isLoggedIn={isLoggedIn}\r\n            \r\n            path=\"/\"\r\n            component={DashboardRoutes}\r\n          />\r\n\r\n          <Redirect to=\"/auth/login\" />\r\n        </Switch>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n","import { types } from \"../types/types\";\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  msgError: null,\r\n};\r\n\r\nexport const uiReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case types.uiSetError:\r\n      return {\r\n        ...state,\r\n        msgError: action.payload,\r\n      };\r\n\r\n    case types.uiRemoveError:\r\n      return {\r\n        ...state,\r\n        msgError: null,\r\n      };\r\n\r\n    case types.uiStartLoading:\r\n      return {\r\n        loading: true,\r\n      };\r\n\r\n    case types.uiFinishLoading:\r\n      return {\r\n        loading: false,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","\r\nimport {types } from '../types/types'\r\n\r\nconst initialState = {\r\n  open : false,\r\n  cantidad : 0,\r\n  total:0,\r\n  sweets : []\r\n}\r\n\r\nexport const carritoReducer = (state=initialState,action) => {\r\n    //  console.log(action.payload)\r\n     switch (action.type) {\r\n       case types.openCarrito:\r\n         return{\r\n           ...state,\r\n           open : action.payload\r\n         }\r\n       case types.closeCarrito:\r\n         return{\r\n           ...state,\r\n           open : action.payload\r\n         }  \r\n       case types.addSweetCarro:\r\n         return {\r\n           ...state,\r\n           cantidad: action.payload.cantidadSweet,\r\n           sweets: [...state.sweets, action.payload.sweet],\r\n         };\r\n       case types.addCantidadSweet:\r\n         return{\r\n           ...state,\r\n            sweets: state.sweets.map( sweet => \r\n              (sweet.id === action.payload.id) ? action.payload.sweet : sweet \r\n            )\r\n            \r\n         }  ;\r\n       case types.deleteSweet : \r\n       return{\r\n         ...state,\r\n         sweets : state.sweets.filter(sweet => \r\n          (sweet.id !== action.payload)\r\n          ),\r\n          cantidad : state.cantidad - 1 \r\n       }  \r\n       case types.totalCarro : \r\n       return{\r\n         ...state,\r\n         total: action.payload\r\n       } \r\n       case types.comprarCarro:\r\n         return {\r\n           ...state,\r\n           total : 0,\r\n           cantidad: 0,\r\n           sweets : action.payload\r\n         }       \r\n       default:\r\n         return state;\r\n         \r\n     }\r\n}","\r\nimport {types} from '../types/types'  \r\nconst initialState = {\r\n  sweets: [],\r\n  open : true\r\n}\r\n\r\nexport const productsReducer = (state = initialState , action) => {\r\n  // console.log(action.payload); \r\n  switch (action.type) {\r\n    case types.loadedProducts:\r\n      return{\r\n        ...state,\r\n        sweets : [...action.payload]\r\n      };\r\n    case types.openProducts : \r\n    return{\r\n      ...state,\r\n      open : !state.open\r\n    }  \r\n      \r\n     \r\n  \r\n    default:\r\n      return state;\r\n  }\r\n}","  import {types} from '../types/types'\r\n\r\n  const initialstate = {\r\n     compras : [ ],\r\n     cantidad: 0\r\n  }\r\n\r\n  export const historialReducer = (state = initialstate,action) => {\r\n    \r\n    switch (action.type) {\r\n       case types.setHistory:\r\n         return{\r\n           ...state,\r\n           compras : action.payload,     \r\n         };\r\n      case types.newCantidadHistory : \r\n        return{\r\n           ...state,\r\n           cantidad :action.payload\r\n        }\r\n      case types.loadCantidadHistory:\r\n        return{\r\n          ...state,\r\n          cantidad: action.payload\r\n        }  \r\n      \r\n      default:\r\n        return state;\r\n    }\r\n\r\n  }","import {types} from '../types/types'\r\n\r\nconst initialState = {\r\n  open : false\r\n}\r\n\r\nexport const menuReducer = (state = initialState,action) => {\r\n\r\n  switch (action.type) {\r\n    case types.openMenu:\r\n      return{\r\n        open : !state.open\r\n      }\r\n    // case types.closeMenu:\r\n    //   return{\r\n    //     open:false\r\n    //   }  \r\n  \r\n    default:\r\n      return state;\r\n  }\r\n}","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\r\nimport { authReducer } from \"../reducers/authReducer\";\r\nimport thunk from \"redux-thunk\";\r\nimport { uiReducer } from \"../reducers/uiRedcer\";\r\nimport { carritoReducer } from \"../reducers/carritoReducer\";\r\nimport { productsReducer } from \"../reducers/productsReducer\";\r\nimport { historialReducer } from \"../reducers/historialReducer\";\r\nimport { menuReducer } from \"../reducers/menuReducer\";\r\n// import { notesReducer } from \"../reducers/notesReducer\";\r\n\r\nconst composeEnhancers =\r\n  (typeof window !== \"undefined\" &&\r\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) ||\r\n  compose;\r\n\r\nconst reducers = combineReducers({\r\n  auth: authReducer,\r\n  ui: uiReducer,\r\n  product: productsReducer,\r\n  carrito: carritoReducer,\r\n  history : historialReducer,\r\n  menu: menuReducer\r\n  // notes: notesReducer,\r\n});\r\nexport const store = createStore(\r\n  reducers,\r\n  composeEnhancers(applyMiddleware(thunk))\r\n);\r\n","import { types } from \"../types/types\";\r\n\r\nexport const authReducer = (state = {}, action) => {\r\n  //  console.log(action.payload)\r\n  switch (action.type) {\r\n    case types.login:\r\n      return {\r\n        uid: action.payload.uid,\r\n        name: action.payload.displayName,\r\n        photoURL: action.payload.photoURL,\r\n        \r\n      };\r\n\r\n    case types.loggout:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import React from 'react'\r\nimport { AppRouter } from \"./routes/AppRouter\";\r\nimport { Provider } from \"react-redux\";\r\nimport { store } from './store/store';\r\n\r\nexport const SweetShop = () => {\r\n  return (\r\n    <Provider store={store}>\r\n       <AppRouter/>\r\n    </Provider>\r\n  )\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/styles.scss';\nimport { SweetShop } from './SweetShop'\n\n\nReactDOM.render(\n  \n    <SweetShop />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}